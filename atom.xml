<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Knovour Notes</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://notes.knovour.ninja/"/>
  <updated>2016-03-22T20:00:48.853Z</updated>
  <id>https://notes.knovour.ninja/</id>
  
  <author>
    <name>Knovour Zheng</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Sails.js 的一些問題及現況</title>
    <link href="https://notes.knovour.ninja/2016/03/23/problems-about-sails-js/"/>
    <id>https://notes.knovour.ninja/2016/03/23/problems-about-sails-js/</id>
    <published>2016-03-22T16:00:06.000Z</published>
    <updated>2016-03-22T20:00:48.853Z</updated>
    
    <content type="html">&lt;p&gt;本來標題想寫「Sails.js 算不算死了」，不過這樣似乎太過分了，這篇主要是講講之前用它來開發的感受。&lt;/p&gt;
&lt;h2 id=&quot;TL-DR-不負責任懶人包&quot;&gt;&lt;a href=&quot;#TL-DR-不負責任懶人包&quot; class=&quot;headerlink&quot; title=&quot;TL;DR - 不負責任懶人包&quot;&gt;&lt;/a&gt;TL;DR - 不負責任懶人包&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://sailsjs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sails.js&lt;/a&gt; 主要維護者 &lt;a href=&quot;https://github.com/mikermcneil&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;mikermcneil&lt;/a&gt; 與其中一位成員 &lt;a href=&quot;https://github.com/tjwebb&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;tjwebb&lt;/a&gt; 有「理念上的問題」，導致開發停滯了超過半年之久，之後後者離開另外建立了 &lt;a href=&quot;https://github.com/trailsjs&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Trails.js&lt;/a&gt;，而 &lt;a href=&quot;http://sailsjs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sails.js&lt;/a&gt; 在今年繼續維護。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;長篇抱怨文&quot;&gt;&lt;a href=&quot;#長篇抱怨文&quot; class=&quot;headerlink&quot; title=&quot;長篇抱怨文&quot;&gt;&lt;/a&gt;長篇抱怨文&lt;/h2&gt;&lt;p&gt;去年的時候，&lt;a href=&quot;http://sailsjs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sails.js&lt;/a&gt; 的版本停在 0.12.0-rcX（忘記哪個號碼）超過半年之久；在這段期間，issue 上面的回應也零零落落的，而我那時才知道，開發團隊其實有養一隻 &lt;a href=&quot;https://github.com/sailsbot&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub robot&lt;/a&gt;，太久沒回應的 issue 會強制關掉，這到是讓我感到不滿。&lt;/p&gt;
&lt;p&gt;當初 &lt;a href=&quot;https://nodejs.org&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Node.js&lt;/a&gt; 入門時是從 &lt;a href=&quot;http://expressjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Express.js&lt;/a&gt; 開始的，也很習慣從這樣一個基礎的 framework 再自己安裝其他 plugin 兜成自己需要的東西，但每建一個新的專案就要重新兜一次，久了其實也挺煩的，當時也不知道 &lt;a href=&quot;http://yeoman.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Yeoman&lt;/a&gt; 這種工具。&lt;/p&gt;
&lt;p&gt;後來試了 &lt;a href=&quot;http://krakenjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Kraken.js&lt;/a&gt; 以及 &lt;a href=&quot;http://sailsjs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sails.js&lt;/a&gt; 這兩個比較屬於包山包海的 framework，而且都是以 &lt;a href=&quot;http://expressjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Express.js&lt;/a&gt; 為基底再包上一層，在使用一段時間後卻覺得這反而讓我更加麻煩，表面上似乎是幫你解決了一些雜事，反之要面對的卻是一長串看似方便其實很亂的 &lt;code&gt;config&lt;/code&gt; 參數。&lt;/p&gt;
&lt;p&gt;當時用了 Kraken 1.x 的版本，就像是包上了一層薄薄的蝦殼，薄到讓我覺得多包這一層沒什麼太大的意義，原本 &lt;code&gt;middleware&lt;/code&gt; 的載入方式改成透過 &lt;code&gt;config&lt;/code&gt; 反而變得很難用，加上當時在折騰 &lt;a href=&quot;http://socket.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Socket.IO&lt;/a&gt;，而 &lt;a href=&quot;http://krakenjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Kraken.js&lt;/a&gt; 並沒有往這方面做進一步整合，導致不論是在 &lt;a href=&quot;http://expressjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Express.js&lt;/a&gt; 或是 &lt;a href=&quot;http://krakenjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Kraken.js&lt;/a&gt; 裡加上 &lt;a href=&quot;http://socket.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Socket.IO&lt;/a&gt; 的方式是差不多的，但後者還得多繞一點彎路，本末倒置。&lt;/p&gt;
&lt;p&gt;而 &lt;a href=&quot;http://sailsjs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sails.js&lt;/a&gt; 有將之另外整合，並打包成了 sails.io.js，相比之下方便不少，所以最後採用它來寫了幾個專案，但一段時間後也開始有了一些怨氣，一個是預設作為自動化排程的 &lt;a href=&quot;http://gruntjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Grunt&lt;/a&gt; 非常難用，相關設定又臭又長而且不盡相同，我曾為了某個 plugin 設定搞不定而折騰很長一段時間，最後卻是參考其他不相關的 plugin 的設定方式照著改過去才成功。&lt;/p&gt;
&lt;p&gt;另一方面是作為核心的 &lt;a href=&quot;http://expressjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Express.js&lt;/a&gt; 的版本問題，&lt;a href=&quot;http://krakenjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Kraken.js&lt;/a&gt; 因為有 &lt;a href=&quot;https://www.paypal.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;PayPal&lt;/a&gt; 罩著，所以遷移到 Express 4.x 的速度很快，但 &lt;a href=&quot;http://sailsjs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sails.js&lt;/a&gt; 就不是這麼一回事了，官方一直停在 3.x 版，開發又停滯了一段時間，使得以 &lt;a href=&quot;http://expressjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Express.js&lt;/a&gt; 為主的 plugin 也得限制版本號才能使用，本來這不是什麼大問題，因為當時連 &lt;a href=&quot;https://nodejs.org&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Node.js&lt;/a&gt; 的更新也很緩慢，也是在 0.12 上卡了很長一段時間，後來在用 &lt;a href=&quot;http://sailsjs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sails.js&lt;/a&gt; 寫最後一個專案時，&lt;a href=&quot;https://nodejs.org&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Node.js&lt;/a&gt; 突然直接跳到了 4 版，不久 5 版也跟著推出了。這下感受就大不同了（還是可以動，主要是奇蒙子問題），那時也才開始在意 &lt;a href=&quot;http://sailsjs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sails.js&lt;/a&gt; 停滯很長一段時間這件事；在這段時間裡，也造成一些 issue 因為沒有後續回應的關係而被官方的 bot 自動關掉，最後決定趁著專案的開發時間還不算久的情況下，直接改用 &lt;a href=&quot;http://koajs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Koa.js&lt;/a&gt; 重新開發，不再碰 &lt;a href=&quot;http://sailsjs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sails.js&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;在遷移一陣子之後，發現了 &lt;a href=&quot;https://github.com/trailsjs&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Trails.js&lt;/a&gt; 的存在，這是 &lt;a href=&quot;http://sailsjs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sails.js&lt;/a&gt; 的其中一個成員離開之後建立的專案，看裡面的專案數量，似乎是以 &lt;a href=&quot;http://koajs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Koa.js&lt;/a&gt;、&lt;a href=&quot;http://expressjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Express.js&lt;/a&gt;、&lt;a href=&quot;http://hapijs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hapi.js&lt;/a&gt; 等各個基礎 framework 為底，再分別客製打包而成，在安裝時就可以選自己順手的為底來往上建立，選擇上比較靈活，但官方維護的心力應該也多了不少，目前還在 1.0 alpha，能不能取代 &lt;a href=&quot;http://sailsjs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sails.js&lt;/a&gt; 還得再觀察。&lt;/p&gt;
&lt;h2 id=&quot;相關網址&quot;&gt;&lt;a href=&quot;#相關網址&quot; class=&quot;headerlink&quot; title=&quot;相關網址&quot;&gt;&lt;/a&gt;相關網址&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/langateam/sails-permissions/issues/200&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ending Sails.js Support. Migrating sails-permissions to Trails&lt;/a&gt;（裡面有列一些相關討論的 issue 連結，包含雙方各自的說法）&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://knovourland.logdown.com/posts/search?utf8=%E2%9C%93&amp;amp;q=kraken.js&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;以前 Blog 寫的 Kraken.js 筆記&lt;/a&gt;（不過現在都 2.0 了，應該比較沒參考價值了）&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;Trails-js-介紹影片&quot;&gt;&lt;a href=&quot;#Trails-js-介紹影片&quot; class=&quot;headerlink&quot; title=&quot;Trails.js 介紹影片&quot;&gt;&lt;/a&gt;Trails.js 介紹影片&lt;/h2&gt;&lt;div class=&quot;video-container&quot;&gt;&lt;iframe src=&quot;//www.youtube.com/embed/AbSp8jqFDAY&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;h2 id=&quot;自肥區&quot;&gt;&lt;a href=&quot;#自肥區&quot; class=&quot;headerlink&quot; title=&quot;自肥區&quot;&gt;&lt;/a&gt;自肥區&lt;/h2&gt;&lt;p&gt;我把在使用 &lt;a href=&quot;http://koajs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Koa.js&lt;/a&gt; 這段期間用到的 plugins 以自己覺得合適的架構打包，並用 &lt;a href=&quot;http://yeoman.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Yeoman&lt;/a&gt; 來做自動化安裝，不過目前只有做將整個專案架構複製到自己的資料夾裡這件事而已，更多客製化的方式還得研究研究，另外之後會先把 plugins 刪掉一大部分，並將 &lt;a href=&quot;http://gulpjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Gulp.js&lt;/a&gt; 改成單純的用 npm script 來自動化管理專案，等這些基本問題弄好後，再把其他 plugins 加回去。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/Knovour/generator-koat&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;專案網址&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;本來標題想寫「Sails.js 算不算死了」，不過這樣似乎太過分了，這篇主要是講講之前用它來開發的感受。&lt;/p&gt;
&lt;h2 id=&quot;TL-DR-不負責任懶人包&quot;&gt;&lt;a href=&quot;#TL-DR-不負責任懶人包&quot; class=&quot;headerlink&quot; title=&quot;TL;DR - 不負責任懶人包&quot;&gt;&lt;/a&gt;TL;DR - 不負責任懶人包&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://sailsjs.org/&quot;&gt;Sails.js&lt;/a&gt; 主要維護者 &lt;a href=&quot;https://github.com/mikermcneil&quot;&gt;mikermcneil&lt;/a&gt; 與其中一位成員 &lt;a href=&quot;https://github.com/tjwebb&quot;&gt;tjwebb&lt;/a&gt; 有「理念上的問題」，導致開發停滯了超過半年之久，之後後者離開另外建立了 &lt;a href=&quot;https://github.com/trailsjs&quot;&gt;Trails.js&lt;/a&gt;，而 &lt;a href=&quot;http://sailsjs.org/&quot;&gt;Sails.js&lt;/a&gt; 在今年繼續維護。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>D3 + p5.js 筆記 - 自訂 preload 的 Ajax</title>
    <link href="https://notes.knovour.ninja/2016/03/22/d3-p5-js-notes-custom-ajax-preload/"/>
    <id>https://notes.knovour.ninja/2016/03/22/d3-p5-js-notes-custom-ajax-preload/</id>
    <published>2016-03-22T08:17:20.000Z</published>
    <updated>2016-03-22T10:15:00.049Z</updated>
    
    <content type="html">&lt;p&gt;&lt;a href=&quot;http://p5js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;p5.js&lt;/a&gt; 已經內建數種檔案請求的方式，這邊紀錄一下自己建立 ajax 請求註冊到 &lt;code&gt;preload()&lt;/code&gt; 的方式（以 &lt;a href=&quot;https://d3js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;D3&lt;/a&gt; 為例）。&lt;/p&gt;
&lt;script src=&quot;https://gist.github.com/Knovour/57b761d08ff758396ab6.js?file=p5-private-preload.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;這邊要注意的是，在第 10 行的部份，請求後的資料不能直接指定給預先宣告的變數，否則 &lt;code&gt;setup()&lt;/code&gt; 取資料時會是 &lt;code&gt;undefined&lt;/code&gt;，或者可以這樣宣告：&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&#39;use strict&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// load function&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; tmp = &amp;#123; list: [] &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ---&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;在取得資料後直接將資料指定給 &lt;code&gt;tmp.list&lt;/code&gt;，在 &lt;code&gt;setup()&lt;/code&gt; 裡直接以 &lt;code&gt;data.list&lt;/code&gt; 的方式取值即可，而範例裡的 &lt;code&gt;return&lt;/code&gt; 跟 &lt;code&gt;callback&lt;/code&gt; 都是必要的，省略任何一樣都會出現 &lt;code&gt;undefined&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;不用 &lt;code&gt;new&lt;/code&gt; 的方式可以到&lt;a href=&quot;https://gist.github.com/Knovour/57b761d08ff758396ab6&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;這裡&lt;/a&gt;檢視。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      給 p5.js 的 preload function 增加自訂的 ajax 請求。
    
    </summary>
    
    
      <category term="D3" scheme="https://notes.knovour.ninja/tags/D3/"/>
    
      <category term="p5.js" scheme="https://notes.knovour.ninja/tags/p5-js/"/>
    
  </entry>
  
  <entry>
    <title>D3 + p5.js 筆記 - Area Chart</title>
    <link href="https://notes.knovour.ninja/2016/03/03/d3-p5-js-notes-area-chart/"/>
    <id>https://notes.knovour.ninja/2016/03/03/d3-p5-js-notes-area-chart/</id>
    <published>2016-03-03T14:44:07.000Z</published>
    <updated>2016-03-21T14:11:16.378Z</updated>
    
    <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/Knovour/d3-p5-practice/tree/master/example/area&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;程式碼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://bl.ocks.org/mbostock/3883195&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;範例來源&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;程式碼說明&quot;&gt;&lt;a href=&quot;#程式碼說明&quot; class=&quot;headerlink&quot; title=&quot;程式碼說明&quot;&gt;&lt;/a&gt;程式碼說明&lt;/h2&gt;&lt;p&gt;以下主要說明部份的坑以及重點，請配合 GitHub 的 js 程式碼服用。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;preload&quot;&gt;&lt;a href=&quot;#preload&quot; class=&quot;headerlink&quot; title=&quot;preload&quot;&gt;&lt;/a&gt;preload&lt;/h3&gt;&lt;p&gt;&lt;code&gt;ctx.loadTable&lt;/code&gt; 是非同步處理，最普通的作法就是指定給宣告的變數&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;dataset = ctx.loadTable(&lt;span class=&quot;string&quot;&gt;&#39;area.tsv&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;tsv&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;header&#39;&lt;/span&gt;, callback)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;但 preload 請求的資料，在 &lt;code&gt;setup&lt;/code&gt; 函式裡才可以使用，如果直接在 preload 裡 console 出來是沒有東西的，但你可以宣告 callback function 來對資料預先處理。&lt;/p&gt;
&lt;p&gt;不得不說，p5.js 的 &lt;code&gt;loadTable&lt;/code&gt; 幫你整理資料這件事實在非常多餘，幫你把資料整理好了，但你卻沒法直接取出完整的 json 陣列資料。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://farm2.staticflickr.com/1590/25066224863_bd6917b041_o.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;而官方提供的 API 中，最接近的 &lt;code&gt;getObject&lt;/code&gt; 取出來的樣子是：&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&#39;0&#39;&lt;/span&gt;: data1,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;: data2,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&#39;2&#39;&lt;/span&gt;: ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;WTF&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;setup&quot;&gt;&lt;a href=&quot;#setup&quot; class=&quot;headerlink&quot; title=&quot;setup&quot;&gt;&lt;/a&gt;setup&lt;/h3&gt;&lt;p&gt;主要就是在這邊讓 D3 計算縮放後的刻度、座標，由於 &lt;code&gt;draw&lt;/code&gt; 的函式預設會刷新畫布，所以能夠事先計算的部份都盡量放在 setup 裡。&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;xScale = d3.time.scale()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  .domain(d3.extent(dataset, d =&amp;gt; d.date))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  .range([ chartX, chartWidth + chartX ]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;xTickFmt = xScale.tickFormat(date =&amp;gt; date.getFullYear());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;xLabels  = xScale.ticks(d3.time.year);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yScale = d3.scale.linear()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  .domain([ &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, d3.max(dataset, (&amp;#123; close &amp;#125;) =&amp;gt; close) ])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  .range([ chartHeight + chartY, chartY ]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yLabels = yScale.ticks(&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;domain&lt;/code&gt;、&lt;code&gt;range&lt;/code&gt;，簡單來講就是從資料以及指定的畫布大小來決定畫布上的座標，省去寫縮放程式碼的麻煩。&lt;/p&gt;
&lt;p&gt;X 軸是以時間為刻度，用 D3 的 &lt;code&gt;ticks&lt;/code&gt; 設定為以年份劃分刻度，Y 軸則設定為分割成 10 個座標。ticks 最後會產生一串陣列，裡面存放刻度的標籤名稱，用 &lt;code&gt;yScale(data)&lt;/code&gt; 可以取得該筆資料在 Y 軸的位置。&lt;/p&gt;
&lt;h3 id=&quot;draw&quot;&gt;&lt;a href=&quot;#draw&quot; class=&quot;headerlink&quot; title=&quot;draw&quot;&gt;&lt;/a&gt;draw&lt;/h3&gt;&lt;p&gt;p5 預設會重複畫 draw 裡的內容，可以在 setup 補上 &lt;code&gt;noLoop&lt;/code&gt; 來關掉自動重繪，否則也要在 draw 的開頭使用 &lt;code&gt;clean&lt;/code&gt; 來清掉畫布，否則畫布上的元素會重複疊加上去。另外畫布的背景預設為透明，故需先畫上指定顏色的背景，否則存成圖檔時會是透明背景。&lt;/p&gt;
&lt;p&gt;這邊注意的一點是，除了 &lt;code&gt;stroke&lt;/code&gt;、&lt;code&gt;fill&lt;/code&gt; 等等會影響畫筆（ctx）行為之外，有些則是會影響整個畫布的，比如 &lt;code&gt;rotate&lt;/code&gt; 會把要畫的圖層整個旋轉，結尾要使用 &lt;code&gt;resetMatrix&lt;/code&gt; 調回原狀，或是用 &lt;code&gt;push&lt;/code&gt; 與 &lt;code&gt;pop&lt;/code&gt; 來暫存原本的狀態。&lt;/p&gt;
&lt;p&gt;比如前面設定 fill 的顏色，但是在 push 與 pop 之間使用 &lt;code&gt;noFill&lt;/code&gt; 時，當 pop 出來後畫筆依舊是 fill 的狀態。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      用 D3 + p5.js 繪製 Area Chart
    
    </summary>
    
    
      <category term="D3" scheme="https://notes.knovour.ninja/tags/D3/"/>
    
      <category term="p5.js" scheme="https://notes.knovour.ninja/tags/p5-js/"/>
    
  </entry>
  
  <entry>
    <title>D3 + p5.js 筆記 - 介紹 p5</title>
    <link href="https://notes.knovour.ninja/2016/03/03/d3-p5-js-notes-introduce-p5/"/>
    <id>https://notes.knovour.ninja/2016/03/03/d3-p5-js-notes-introduce-p5/</id>
    <published>2016-03-02T16:43:10.000Z</published>
    <updated>2016-03-21T13:21:27.885Z</updated>
    
    <content type="html">&lt;p&gt;先來大致介紹一下 &lt;a href=&quot;http://p5js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;p5.js&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;這是 &lt;a href=&quot;https://processing.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Processing&lt;/a&gt; 團隊移植的 web 版本，除了 &lt;a href=&quot;http://p5js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;p5&lt;/a&gt; 之外還有一個是由 jQuery 作者自己實現，叫 &lt;a href=&quot;http://processingjs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Processingjs&lt;/a&gt; 的函式庫，可別搞混了。&lt;/p&gt;
&lt;h2 id=&quot;為什麼選擇-p5？&quot;&gt;&lt;a href=&quot;#為什麼選擇-p5？&quot; class=&quot;headerlink&quot; title=&quot;為什麼選擇 p5？&quot;&gt;&lt;/a&gt;為什麼選擇 p5？&lt;/h2&gt;&lt;p&gt;以前大學時有教授教過 &lt;a href=&quot;https://processing.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Processing&lt;/a&gt; 算是因素之一，入門上不算太難。&lt;/p&gt;
&lt;p&gt;在圖片繪製上，&lt;a href=&quot;http://p5js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;p5&lt;/a&gt; 也簡化了一些步驟，比如畫線的時候，canvas 的畫法是&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;canvas.moveTo(x, y);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;canvas.lineTo(x2, y2);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;而 &lt;a href=&quot;http://p5js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;p5&lt;/a&gt; 只要一個 &lt;code&gt;line&lt;/code&gt; 就可以解決。稍微試過 &lt;a href=&quot;http://www.pixijs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Pixi.js&lt;/a&gt; 與 &lt;a href=&quot;http://createjs.com/easeljs&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;EaselJS&lt;/a&gt;，這兩個基本上跟 canvas 原本的畫法差不了多少，畢竟定位是遊戲引擎，&lt;a href=&quot;http://p5js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;p5&lt;/a&gt; 是繪圖函式庫。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;canvas-1px-直線問題&quot;&gt;&lt;a href=&quot;#canvas-1px-直線問題&quot; class=&quot;headerlink&quot; title=&quot;canvas 1px 直線問題&quot;&gt;&lt;/a&gt;canvas 1px 直線問題&lt;/h3&gt;&lt;p&gt;canvas 有一個渲染上的問題，很多剛碰的人大概都會遇到，在畫 1px（或其他奇數）寬的線時，在螢幕上顯示卻有 2px 寬。&lt;/p&gt;
&lt;p&gt;簡單圖解類似這樣：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://farm2.staticflickr.com/1464/25094916659_97593ca520_z.jpg&quot; alt=&quot;canvas&quot;&gt;&lt;/p&gt;
&lt;p&gt;當在座標上畫線時，canvas 並不會在該座標的 右邊或左邊畫線，而是會以座標為準，向兩邊各佔用一半的 px，在這邊就各佔用了 0.5px。而 canvas 的渲染機制就會把兩邊剩下的 0.5 補上顏色，類似防鋸齒那樣，就造成畫 1px 卻有 2px 寬的情形發生。&lt;/p&gt;
&lt;p&gt;解決方式就是向前或向後退 0.5 px，而 &lt;a href=&quot;http://p5js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;p5&lt;/a&gt; 會幫你搞定這件事，但由於 [D3] 在幫你計算刻度座標時，數值不會那麼漂亮，所以還是會有漏網之魚發生，至少 XY 軸是正常顯示的。&lt;/p&gt;
&lt;h2 id=&quot;p5-的基本構造&quot;&gt;&lt;a href=&quot;#p5-的基本構造&quot; class=&quot;headerlink&quot; title=&quot;p5 的基本構造&quot;&gt;&lt;/a&gt;p5 的基本構造&lt;/h2&gt;&lt;p&gt;基本上要先建立以下三個函數：&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;preload&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// 載入 csv, tsv 等檔案&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setup&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// 初始化資料、建立 canvas 等&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;draw&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// 繪製圖形&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;其中 &lt;code&gt;preload&lt;/code&gt; 可有可無，端看須不需要額外載入資料檔案，而絕大部分繪製的相關函數&lt;strong&gt;必須&lt;/strong&gt;要在 &lt;a href=&quot;http://p5js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;p5&lt;/a&gt; 指定的函數裡呼叫，否則不會有作用。當然也有其他的函數是獨立的（比如事件偵測），但絕大部分的還是得照著規則進行。&lt;/p&gt;
&lt;h2 id=&quot;p5-的問題&quot;&gt;&lt;a href=&quot;#p5-的問題&quot; class=&quot;headerlink&quot; title=&quot;p5 的問題&quot;&gt;&lt;/a&gt;p5 的問題&lt;/h2&gt;&lt;h3 id=&quot;全域變數&quot;&gt;&lt;a href=&quot;#全域變數&quot; class=&quot;headerlink&quot; title=&quot;全域變數&quot;&gt;&lt;/a&gt;全域變數&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;http://p5js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;p5&lt;/a&gt; 的函數都是全域變數，而一個網頁照一般的寫法也只會寫一個 &lt;code&gt;preload&lt;/code&gt;、&lt;code&gt;setup&lt;/code&gt;、&lt;code&gt;draw&lt;/code&gt; 等函數，當需要數個 canvas 時（畫圖表時有多個畫布很正常吧），創建 canvas 的程式碼全都要擠在同一個 setup 裡（無法用匿名函數分開包裝），在繪製時又會全部擠在一起一次，因而造成很大的麻煩。&lt;/p&gt;
&lt;h3 id=&quot;編輯器&quot;&gt;&lt;a href=&quot;#編輯器&quot; class=&quot;headerlink&quot; title=&quot;編輯器&quot;&gt;&lt;/a&gt;編輯器&lt;/h3&gt;&lt;p&gt;正因為 &lt;a href=&quot;http://p5js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;p5&lt;/a&gt; 函式都是全域變數不須宣告，所以當你在寫程式碼時，你的編輯器會出現一堆下劃線，提醒你變數未宣告之類的錯誤。&lt;/p&gt;
&lt;h2 id=&quot;解決方式&quot;&gt;&lt;a href=&quot;#解決方式&quot; class=&quot;headerlink&quot; title=&quot;解決方式&quot;&gt;&lt;/a&gt;解決方式&lt;/h2&gt;&lt;p&gt;用 &lt;code&gt;new&lt;/code&gt; 宣告一個。&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; p5(ctx =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ctx.setup = () =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ctx.draw = () =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;在這裡面，不管要使用什麼函數，都要用 &lt;code&gt;ctx.[函數名稱]&lt;/code&gt; 才可使用，但也避免了瀏覽器與編輯器的問題。&lt;/p&gt;
&lt;h2 id=&quot;其他參考&quot;&gt;&lt;a href=&quot;#其他參考&quot; class=&quot;headerlink&quot; title=&quot;其他參考&quot;&gt;&lt;/a&gt;其他參考&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://p5js.sketchpad.cc/sp/padlist/all-portfolio-sketches&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;sketchpad&lt;/a&gt;: 網路上有一個 &lt;a href=&quot;http://p5js.sketchpad.cc/sp/padlist/all-portfolio-sketches&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;sketchpad&lt;/a&gt;，上面列了一些用 &lt;a href=&quot;http://p5js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;p5&lt;/a&gt; 繪製的圖片與程式碼，可以大致了解一下怎麼寫出來的。&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.infographics.tw/2015/03/beginner-visualization-with-p5js/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;p5.js － 初學者的資料視覺化函式庫&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://ithelp.ithome.com.tw/question/10096456&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Processing.js 的一些介紹及分享&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      大致介紹一下 p5.js，以及一些小特性
    
    </summary>
    
    
      <category term="D3" scheme="https://notes.knovour.ninja/tags/D3/"/>
    
      <category term="p5.js" scheme="https://notes.knovour.ninja/tags/p5-js/"/>
    
  </entry>
  
  <entry>
    <title>D3 + p5.js 筆記 - 前言</title>
    <link href="https://notes.knovour.ninja/2016/03/01/d3-p5-js-notes/"/>
    <id>https://notes.knovour.ninja/2016/03/01/d3-p5-js-notes/</id>
    <published>2016-03-01T01:20:14.000Z</published>
    <updated>2016-03-02T19:04:02.176Z</updated>
    
    <content type="html">&lt;p&gt;這陣子看了點 &lt;a href=&quot;https://d3js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;D3&lt;/a&gt;，並找了官方 wiki 的&lt;a href=&quot;https://github.com/mbostock/d3/wiki/Gallery&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;範例&lt;/a&gt;來試試，不過不是用 SVG，而是用 canvas 來畫。&lt;/p&gt;
&lt;p&gt;之前要寫的網站要生成簡易的圖表，但因為沒學過 &lt;a href=&quot;https://d3js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;D3&lt;/a&gt; 的經驗（當時也來不及），所以找了現成的 &lt;a href=&quot;http://www.chartjs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Chart.js&lt;/a&gt; 來用，除了這套之外，之後也在 feedly 看了不少圖表生成的套件介紹，蠻多都是用 canvas 的。不過這倒也不是什麼選擇 canvas 的原因。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;單純犯賤罷了…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;然而，&lt;a href=&quot;https://d3js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;D3&lt;/a&gt; 對 canvas 的支援不好，不過這也不是很意外。問題在於要怎麼用 &lt;a href=&quot;https://d3js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;D3&lt;/a&gt; 把處理後的資料給 canvas 畫，根據&lt;a href=&quot;http://blog.infographics.tw/2015/07/optimize-d3-with-canvas/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;這裡&lt;/a&gt;的介紹，第三種方式算是我在網路上最常看見的，基本上就是處理資料並創建虛假的元素，假裝自己在操作 SVG，然後再把這些&lt;strong&gt;假元素&lt;/strong&gt;吐出來再用 canvas 的方式畫出來，怎麼看都覺得…蠻蠢的。所以我比較偏好第二種方式，讓 &lt;a href=&quot;https://d3js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;D3&lt;/a&gt; 負責處理資料、生成刻度等等，再用 &lt;a href=&quot;http://p5js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;p5.js&lt;/a&gt; 直接畫上去。&lt;/p&gt;
&lt;p&gt;總之，之後會加減從 &lt;a href=&quot;https://d3js.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;D3&lt;/a&gt; 官方的&lt;a href=&quot;https://github.com/mbostock/d3/wiki/Gallery&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;範例&lt;/a&gt;裡面先挑簡單的例子來練習，也會原始碼放到 GitHub 上。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      往後會用 [D3] 官方範例來練習，並用 [p5.js] 繪製而成，程式碼會放到 GitHub 上。
    
    </summary>
    
    
      <category term="D3" scheme="https://notes.knovour.ninja/tags/D3/"/>
    
      <category term="p5.js" scheme="https://notes.knovour.ninja/tags/p5-js/"/>
    
  </entry>
  
  <entry>
    <title>Koa.js 踩坑筆記</title>
    <link href="https://notes.knovour.ninja/2016/02/21/koa-notes/"/>
    <id>https://notes.knovour.ninja/2016/02/21/koa-notes/</id>
    <published>2016-02-21T13:55:52.000Z</published>
    <updated>2016-02-27T21:03:14.854Z</updated>
    
    <content type="html">&lt;p&gt;&lt;strong&gt; 以 &lt;a href=&quot;https://github.com/koajs/koa/tree/v2.x&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Koa.js 2.0.0-alpha.3&lt;/a&gt; 版本為主。 &lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;ctx-body-沒反應&quot;&gt;&lt;a href=&quot;#ctx-body-沒反應&quot; class=&quot;headerlink&quot; title=&quot;ctx.body 沒反應&quot;&gt;&lt;/a&gt;&lt;code&gt;ctx.body&lt;/code&gt; 沒反應&lt;/h2&gt;&lt;p&gt;當 &lt;code&gt;ctx.body&lt;/code&gt; 在 Promise 的函式裡時（如 co）則不會對頁面有任何反應，需在該函式前加上 &lt;code&gt;return&lt;/code&gt;。&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;index(ctx) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; co(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;*(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123; &lt;span class=&quot;comment&quot;&gt;// &amp;lt;- Must have `return`&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ctx.body = &lt;span class=&quot;string&quot;&gt;&#39;success&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;自訂 &lt;code&gt;middleware&lt;/code&gt; 的時候也是如此&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;app.use((ctx, next) =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ctx.msg = &lt;span class=&quot;string&quot;&gt;&#39;hello&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; next(); &lt;span class=&quot;comment&quot;&gt;// &amp;lt;- Must have `return`&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;1-0-與-2-0-版本問題&quot;&gt;&lt;a href=&quot;#1-0-與-2-0-版本問題&quot; class=&quot;headerlink&quot; title=&quot;1.0 與 2.0 版本問題&quot;&gt;&lt;/a&gt;1.0 與 2.0 版本問題&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/koajs/koa&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Koa.js&lt;/a&gt; 的大部分 middleware 都已經開始支援 &lt;a href=&quot;https://github.com/koajs/koa/tree/v2.x&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;2.0&lt;/a&gt;，鑑於是 alpha 的關係，要安裝這些元件時要加 &lt;code&gt;@next&lt;/code&gt; 的 tag，尚未支援的在使用時可以安裝 &lt;code&gt;koa-convert&lt;/code&gt; 來轉換。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      紀錄 Koa.js 的一些用法跟踩到的坑
    
    </summary>
    
    
      <category term="node.js" scheme="https://notes.knovour.ninja/tags/node-js/"/>
    
  </entry>
  
  <entry>
    <title>Sequelize 踩坑筆記</title>
    <link href="https://notes.knovour.ninja/2016/01/12/sequelize-notes/"/>
    <id>https://notes.knovour.ninja/2016/01/12/sequelize-notes/</id>
    <published>2016-01-12T15:44:32.000Z</published>
    <updated>2016-01-20T16:26:34.220Z</updated>
    
    <content type="html">&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;範例以&lt;a href=&quot;https://github.com/sequelize/express-example/tree/master/models&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;這裡&lt;/a&gt;為準（以下會換成 ES6 寫法），&lt;a href=&quot;https://github.com/koajs/koa&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Koa&lt;/a&gt; 用法亦同&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;異步程式碼寫法以 &lt;a href=&quot;https://github.com/tj/co&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;co&lt;/a&gt; 這套件來簡化 Promise 寫法&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;內建參數的位置&quot;&gt;&lt;a href=&quot;#內建參數的位置&quot; class=&quot;headerlink&quot; title=&quot;內建參數的位置&quot;&gt;&lt;/a&gt;內建參數的位置&lt;/h2&gt;&lt;p&gt;&lt;script src=&quot;https://gist.github.com/Knovour/387c0699bd427d12b013.js&quot;&gt;&lt;/script&gt;&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;基本用法&quot;&gt;&lt;a href=&quot;#基本用法&quot; class=&quot;headerlink&quot; title=&quot;基本用法&quot;&gt;&lt;/a&gt;基本用法&lt;/h2&gt;&lt;p&gt;我們在 &lt;code&gt;getFullName&lt;/code&gt; 裡加上以下這段&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; co(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;*(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; user = &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; User.findOne();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;`&lt;span class=&quot;subst&quot;&gt;$&amp;#123;user.firstName&amp;#125;&lt;/span&gt; &lt;span class=&quot;subst&quot;&gt;$&amp;#123;user.lastName&amp;#125;&lt;/span&gt;`&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;getterMethods&lt;/code&gt; 裡可以加入一個 &lt;code&gt;fullName&lt;/code&gt; 的 function&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;getterMethods: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  fullName() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;`&lt;span class=&quot;subst&quot;&gt;$&amp;#123;this.firstName&amp;#125;&lt;/span&gt; &lt;span class=&quot;subst&quot;&gt;$&amp;#123;this.lastName&amp;#125;&lt;/span&gt;`&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;這樣 &lt;code&gt;getFullName&lt;/code&gt; 裡就可以直接寫 &lt;code&gt;user.fullName&lt;/code&gt; 獲取全名了。&lt;/p&gt;
&lt;p&gt;在外部使用時可以直接寫&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; Models = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;/path/to/models&#39;&lt;/span&gt;);  &lt;span class=&quot;comment&quot;&gt;// 注意範例裡的 index.js 內容&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;co(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;*(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; fullName = &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; Models.User.getFullName();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(fullName);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;).catch(&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.error);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;使用其他-table&quot;&gt;&lt;a href=&quot;#使用其他-table&quot; class=&quot;headerlink&quot; title=&quot;使用其他 table&quot;&gt;&lt;/a&gt;使用其他 table&lt;/h3&gt;&lt;p&gt;假如我在 &lt;code&gt;User&lt;/code&gt; 裡需要用到其他 table（假設叫 &lt;code&gt;Family&lt;/code&gt;），我就可以寫 &lt;code&gt;sequelize.models.Family&lt;/code&gt; 來呼叫。&lt;/p&gt;
&lt;h2 id=&quot;建立關聯（associate）&quot;&gt;&lt;a href=&quot;#建立關聯（associate）&quot; class=&quot;headerlink&quot; title=&quot;建立關聯（associate）&quot;&gt;&lt;/a&gt;建立關聯（associate）&lt;/h2&gt;&lt;p&gt;假設有個 table 叫 &lt;code&gt;Pet&lt;/code&gt;，裡面有個 key 叫 &lt;code&gt;owner&lt;/code&gt;，用以紀錄 &lt;code&gt;User&lt;/code&gt; 的 id。&lt;/p&gt;
&lt;p&gt;兩邊的關聯性程式如下&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 寫在各自的 associate function 裡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Pet&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Pet.belongsTo(models.User, &amp;#123; foreignKey: &lt;span class=&quot;string&quot;&gt;&#39;owner&#39;&lt;/span&gt; &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// User（owner 即為 Pet 裡的 key）&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;User.hasMany(models.Pet, &amp;#123; foreignKey: &lt;span class=&quot;string&quot;&gt;&#39;owner&#39;&lt;/span&gt; &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;include&quot;&gt;&lt;a href=&quot;#include&quot; class=&quot;headerlink&quot; title=&quot;include&quot;&gt;&lt;/a&gt;include&lt;/h3&gt;&lt;p&gt;在查找的 json 中用 include 時，&lt;code&gt;hasMany&lt;/code&gt; 與 &lt;code&gt;hasOne&lt;/code&gt; 出來的 table 名稱會有單複數差異&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// hasMany&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  firstName: &lt;span class=&quot;string&quot;&gt;&#39;XXXX&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Pets: [&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// hasOne&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  firstName: &lt;span class=&quot;string&quot;&gt;&#39;XXXX&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Pet: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;group&quot;&gt;&lt;a href=&quot;#group&quot; class=&quot;headerlink&quot; title=&quot;group&quot;&gt;&lt;/a&gt;group&lt;/h3&gt;&lt;p&gt;要將 include 的資料進行 group 或 order 時，需要連帶寫上 table 名稱，例：&lt;code&gt;Pets.id&lt;/code&gt;。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      紀錄 Sequelize 的一些用法跟踩到的坑
    
    </summary>
    
    
      <category term="node.js" scheme="https://notes.knovour.ninja/tags/node-js/"/>
    
  </entry>
  
  <entry>
    <title>放棄在 OpenShift 上管理部落格</title>
    <link href="https://notes.knovour.ninja/2016/01/11/change-blog-from-openshift-to-github/"/>
    <id>https://notes.knovour.ninja/2016/01/11/change-blog-from-openshift-to-github/</id>
    <published>2016-01-11T15:40:12.000Z</published>
    <updated>2016-01-11T16:40:27.854Z</updated>
    
    <content type="html">&lt;p&gt;去年決定將 Blog 從 &lt;a href=&quot;http://logdown.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Logdown&lt;/a&gt; 換成自架 &lt;a href=&quot;https://ghost.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ghost&lt;/a&gt; 後，就想找一個線上空間來管理。但 &lt;a href=&quot;https://www.linode.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Linode&lt;/a&gt; 或 &lt;a href=&quot;https://www.digitalocean.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Digital Ocean&lt;/a&gt; 要從頭來覺得麻煩，而 &lt;a href=&quot;https://heroku.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Heroku&lt;/a&gt; 不知道為何怎樣就是看不懂，後來看到 &lt;a href=&quot;https://www.openshift.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;OpenShift&lt;/a&gt; 設定似乎挺簡單，於是就辦來試試看。&lt;/p&gt;
&lt;p&gt;無奈 &lt;a href=&quot;https://www.openshift.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;OpenShift&lt;/a&gt; 根本 Bug 滿天飛，社群的 &lt;a href=&quot;https://ghost.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ghost&lt;/a&gt; 架設速成 script 根本不能用就算了，連從官方的 Node.js 重頭架也常設定跑失敗，跑到最後居然是鎖我帳號？？更別說我在試用時三不五時被登出，不然就是怎麼按 Application 都沒顯示東西，也不知道怎麼回到我剛剛的設定頁面。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;後來過了幾個月回去看又好了（&lt;a href=&quot;https://heroku.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Heroku&lt;/a&gt; 這段期間我還是看不懂），但 &lt;a href=&quot;https://ghost.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ghost&lt;/a&gt; 速成 script 還是不能用，至少官方 Node 是可行的，於是就把 &lt;a href=&quot;https://ghost.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ghost&lt;/a&gt; 給弄起來了（中間在 Build 時還是爆掉幾次）。之後要把 &lt;a href=&quot;https://ghost.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ghost&lt;/a&gt; 給升級時，說要額外加 Gear（就是要收錢的意思），我就給他加了，反正一個月只有收大概幾塊錢。&lt;/p&gt;
&lt;p&gt;最近幾個月，&lt;a href=&quot;https://letsencrypt.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Let’s Encrypt&lt;/a&gt; 開放後熱了起來，想說看能不能在自己的 Blog 弄上去，然後找到了&lt;a href=&quot;https://blog.mobiushorizons.com/letsencrypt-ghost/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;這篇&lt;/a&gt;文章，做到替換 &lt;code&gt;index.js&lt;/code&gt; 來進行認證的階段怎樣就是失敗，後來又開了社群的 script 來試，結果居然可以跑了，而且替換 &lt;code&gt;index.js&lt;/code&gt; 再認證的部份是 OK 的，雖然後面的步驟我沒做，但我也不想弄了。&lt;/p&gt;
&lt;p&gt;這兩天把上面幾篇比較重要的文章搬到 &lt;a href=&quot;https://github.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github&lt;/a&gt;，改用 &lt;a href=&quot;https://hexo.io/zh-tw/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt; 管理後，想把 &lt;a href=&quot;https://www.openshift.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;OpenShift&lt;/a&gt; 上的砍掉重架當備份，無奈這次 script 又不能跑了，既然這樣也不強求了，隨他去吧，砍了帳號，別再收我錢就好。&lt;/p&gt;
&lt;p&gt;現在 domain 改用 &lt;a href=&quot;https://www.cloudflare.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CloudFlare&lt;/a&gt; 管理，免費方案也有 SSL，這樣搞還比較省事。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      抱怨一下 OpenShift 的使用感想
    
    </summary>
    
    
      <category term="openshift" scheme="https://notes.knovour.ninja/tags/openshift/"/>
    
      <category term="ghost" scheme="https://notes.knovour.ninja/tags/ghost/"/>
    
  </entry>
  
  <entry>
    <title>在 Linux 上執行 Path of Exile (PoE)</title>
    <link href="https://notes.knovour.ninja/2015/09/16/path-of-exile-on-linux/"/>
    <id>https://notes.knovour.ninja/2015/09/16/path-of-exile-on-linux/</id>
    <published>2015-09-16T13:26:00.000Z</published>
    <updated>2016-03-21T13:20:24.649Z</updated>
    
    <content type="html">&lt;p&gt;之前在 Wine 上跑過一陣子 PoE，但經過幾次更新後，loading 畫面除了狂閃外基本上就是完全進不去的狀態，然而當時也是有點膩了，所以也懶得折騰（基本上都是在講把 Wine 降級或是裝 PlayOnLinux，不過不想這樣搞）。&lt;/p&gt;
&lt;p&gt;現在 2.0 出了，「據說」修好了錯位，也偶然發現有一篇比較不那麼麻煩的設定&lt;a href=&quot;https://russell.cc/path-of-exile-linux/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;文章&lt;/a&gt;，試一試還真的成功了，在這邊紀錄一下。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;註：文章裡似乎是把 PoE 另外裝其他地方，再外帶參數啟動（我的理解啦），但我沒有用 Wine 模擬其他東西的需要，所以就把覺得可以跳過的部份跳過，下面的紀錄基本上就是個精簡後的設定步驟。&lt;/p&gt;
&lt;h2 id=&quot;環境&quot;&gt;&lt;a href=&quot;#環境&quot; class=&quot;headerlink&quot; title=&quot;環境&quot;&gt;&lt;/a&gt;環境&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://manjaro.github.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Manjaro Linux&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.kde.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;KDE Plasma 5&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;NVIDIA 顯卡&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;執行-winecfg&quot;&gt;&lt;a href=&quot;#執行-winecfg&quot; class=&quot;headerlink&quot; title=&quot;執行 winecfg&quot;&gt;&lt;/a&gt;執行 winecfg&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;選定 windows 版本（原文是 8 不過選 10 也沒差）。&lt;/li&gt;
&lt;li&gt;將 &lt;code&gt;openal32&lt;/code&gt; 加進函式庫裡。&lt;/li&gt;
&lt;li&gt;勾選虛擬桌面，解析度自己根據需求調整。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;https://farm1.staticflickr.com/577/21195623851_4c22a1dc13_b.jpg&quot; alt=&quot;winecfg&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;安裝-windows-相關套件&quot;&gt;&lt;a href=&quot;#安裝-windows-相關套件&quot; class=&quot;headerlink&quot; title=&quot;安裝 windows 相關套件&quot;&gt;&lt;/a&gt;安裝 windows 相關套件&lt;/h2&gt;&lt;p&gt;執行 &lt;code&gt;winetricks directx9 vcrun2010 riched20 usp10&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;安裝遊戲&quot;&gt;&lt;a href=&quot;#安裝遊戲&quot; class=&quot;headerlink&quot; title=&quot;安裝遊戲&quot;&gt;&lt;/a&gt;安裝遊戲&lt;/h2&gt;&lt;p&gt;執行 PoE 安裝檔，之後再開啟下載主程式，這部份不會有問題，但主程式裝完後先關掉不要按 Launch，不然 wine 會當掉。&lt;/p&gt;
&lt;h2 id=&quot;執行-wine-regedit&quot;&gt;&lt;a href=&quot;#執行-wine-regedit&quot; class=&quot;headerlink&quot; title=&quot;執行 wine regedit&quot;&gt;&lt;/a&gt;執行 &lt;code&gt;wine regedit&lt;/code&gt;&lt;/h2&gt;&lt;p&gt;安裝期間可以先處理這部份（在 regedit 裡移到對應的路徑）&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\FontSubstitutes&lt;/code&gt;：新增一個字串值叫 &lt;code&gt;Fontin SmallCaps&lt;/code&gt;，數值為 &lt;code&gt;Fontin&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;HKEY_CURRENT_USER\Software\Wine\Direct3D&lt;/code&gt;：若沒有 &lt;code&gt;Direct3D&lt;/code&gt; 的資料夾則自行新增一個。在底下新增以下資料：&lt;ol&gt;
&lt;li&gt;&lt;code&gt;OffscreenRenderingMode&lt;/code&gt;：字串值為 &lt;code&gt;backbuffer&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;VideoMemorySize&lt;/code&gt;：這是你的顯卡記憶體大小，以 MB 計，我的是 2048。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UseGLSL&lt;/code&gt;：NVIDIA 顯卡限定，值為 &lt;code&gt;disabled&lt;/code&gt;，若執行時覺得有問題可以把這個值移除看看。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;https://farm1.staticflickr.com/738/20999863178_1337f3d5a8_b.jpg&quot; alt=&quot;regedit&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;設定-PoE&quot;&gt;&lt;a href=&quot;#設定-PoE&quot; class=&quot;headerlink&quot; title=&quot;設定 PoE&quot;&gt;&lt;/a&gt;設定 PoE&lt;/h2&gt;&lt;p&gt;到 &lt;code&gt;~/文件/My Games/Path of Exile/&lt;/code&gt;（不同發行版位置可能不大一樣），開啟 &lt;code&gt;production_Config.ini&lt;/code&gt;，在 &lt;code&gt;[DISPLAY]&lt;/code&gt; 底下新增或替換以下設定：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;fullscreen=true&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;borderless_windowed_fullscreen=false&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;resolution_height=虛擬桌面高度&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;resolution_width=虛擬桌面寬度&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;結束&quot;&gt;&lt;a href=&quot;#結束&quot; class=&quot;headerlink&quot; title=&quot;結束&quot;&gt;&lt;/a&gt;結束&lt;/h2&gt;&lt;p&gt;等 PoE 主程式載完就可以啟動了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5805/21197789131_d983728162_o.jpg&quot; alt=&quot;play&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;感想&quot;&gt;&lt;a href=&quot;#感想&quot; class=&quot;headerlink&quot; title=&quot;感想&quot;&gt;&lt;/a&gt;感想&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;基本上不會像以前那樣 FPS 掉很重了，但偶爾會破圖。&lt;/li&gt;
&lt;li&gt;地圖亮度偏暗，地穴根本是黑的，使用冰系或雷系技能擊中或發動瞬間會照亮地圖（火焰反而沒法照亮…），招喚 Golem（2.0 新技能）可以永久照亮。&lt;/li&gt;
&lt;li&gt;音效要在設定裡選擇 &lt;code&gt;Generic Software on out&lt;/code&gt; 開頭的才有聲音。&lt;/li&gt;
&lt;li&gt;只有 Act4 沒錯位就算了，Act123 + Map 的錯位感覺更嚴重了是怎樣，新增的 Map 也是一樣慘。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;參考來源&quot;&gt;&lt;a href=&quot;#參考來源&quot; class=&quot;headerlink&quot; title=&quot;參考來源&quot;&gt;&lt;/a&gt;參考來源&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://russell.cc/path-of-exile-linux/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Path of Exile on Linux&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      用 Wine 執行 PoE，無須降級、免裝 PlayOnLinux。
    
    </summary>
    
    
      <category term="linux" scheme="https://notes.knovour.ninja/tags/linux/"/>
    
      <category term="wine" scheme="https://notes.knovour.ninja/tags/wine/"/>
    
      <category term="game" scheme="https://notes.knovour.ninja/tags/game/"/>
    
  </entry>
  
  <entry>
    <title>用 PM2 部署 node server</title>
    <link href="https://notes.knovour.ninja/2015/08/13/deploy-node-js-by-pm2/"/>
    <id>https://notes.knovour.ninja/2015/08/13/deploy-node-js-by-pm2/</id>
    <published>2015-08-12T18:38:00.000Z</published>
    <updated>2016-01-11T15:48:49.371Z</updated>
    
    <content type="html">&lt;h2 id=&quot;前置作業&quot;&gt;&lt;a href=&quot;#前置作業&quot; class=&quot;headerlink&quot; title=&quot;前置作業&quot;&gt;&lt;/a&gt;前置作業&lt;/h2&gt;&lt;p&gt;首先先設定完&lt;a href=&quot;https://notes.knovour.ninja/2015/07/17/deploy-node-js-by-shipit/&quot;&gt;這篇文&lt;/a&gt;的前置作業。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;部署與開發用的機器都要安裝 PM2&lt;/strong&gt;：&lt;code&gt;sudo npm i pm2 -g&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;部署設定&quot;&gt;&lt;a href=&quot;#部署設定&quot; class=&quot;headerlink&quot; title=&quot;部署設定&quot;&gt;&lt;/a&gt;部署設定&lt;/h2&gt;&lt;p&gt;於專案資料夾底下執行 &lt;code&gt;pm2 ecosystem&lt;/code&gt; 生成 &lt;code&gt;ecosystem.json5&lt;/code&gt;，修改副檔名為 json 檔以便顯示語法 hightlight。&lt;/p&gt;
&lt;p&gt;將裡面的內容做修改&lt;/p&gt;
&lt;script src=&quot;https://gist.github.com/Knovour/f27c0cf743e991973f57.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;注意最後一句裡 &lt;code&gt;pm2 startOrRestart ecosystem.json&lt;/code&gt; 的副檔名是否相同。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;開始部署&quot;&gt;&lt;a href=&quot;#開始部署&quot; class=&quot;headerlink&quot; title=&quot;開始部署&quot;&gt;&lt;/a&gt;開始部署&lt;/h2&gt;&lt;p&gt;第一次部署時先執行 setup&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pm2 deploy ecosystem.json production setup&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;成功後就可以正式部署了&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pm2 deploy ecosystem.json production&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;之後專案更新時只要執行第二句即可。&lt;/p&gt;
&lt;p&gt;一切順利的話 PM2 就會在 server 端開始執行了。&lt;/p&gt;
&lt;h2 id=&quot;額外指令&quot;&gt;&lt;a href=&quot;#額外指令&quot; class=&quot;headerlink&quot; title=&quot;額外指令&quot;&gt;&lt;/a&gt;額外指令&lt;/h2&gt;&lt;p&gt;開機啟動：&lt;code&gt;pm2 startup -u DEPLOY_SERVER_USER_ACCOUNT&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;不設 &lt;code&gt;-u&lt;/code&gt;（user）的話，在開機時預設就會以 root 權限執行。&lt;/p&gt;
&lt;p&gt;其他指令或設定請至 &lt;a href=&quot;https://github.com/Unitech/pm2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;PM2&lt;/a&gt; 檢視說明文件&lt;/p&gt;
&lt;h2 id=&quot;參考來源&quot;&gt;&lt;a href=&quot;#參考來源&quot; class=&quot;headerlink&quot; title=&quot;參考來源&quot;&gt;&lt;/a&gt;參考來源&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/Unitech/pm2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;PM2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/Unitech/PM2/blob/master/ADVANCED_README.md&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;PM2 Advance Readme&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.toobug.net/article/using_pm2_deploy.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;使用 PM2 Deploy 部署基于 Git 版本管理的网站应用&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.gitbook.com/book/wohugb/pm2/details&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;PM2 GitBook&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://nicmitchell.com/2015/04/deploying-node-js-applications-with-pm2/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Deploying Node.js Applications with PM2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      用 PM2 進行 node.js server 佈署。
    
    </summary>
    
    
      <category term="node.js" scheme="https://notes.knovour.ninja/tags/node-js/"/>
    
      <category term="deploy" scheme="https://notes.knovour.ninja/tags/deploy/"/>
    
  </entry>
  
  <entry>
    <title>用 Shipit 部署 node server</title>
    <link href="https://notes.knovour.ninja/2015/07/17/deploy-node-js-by-shipit/"/>
    <id>https://notes.knovour.ninja/2015/07/17/deploy-node-js-by-shipit/</id>
    <published>2015-07-17T15:42:00.000Z</published>
    <updated>2016-01-10T16:31:14.553Z</updated>
    
    <content type="html">&lt;h2 id=&quot;前置作業&quot;&gt;&lt;a href=&quot;#前置作業&quot; class=&quot;headerlink&quot; title=&quot;前置作業&quot;&gt;&lt;/a&gt;前置作業&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;假設是全新的 Linux，帳號為 deploy&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在 github 等託管服務中登錄 deploy server 的 ssh public key。&lt;/li&gt;
&lt;li&gt;設定 ssh 免密碼遠端登入：在 &lt;code&gt;.ssh/authorized_keys&lt;/code&gt; 裡貼上開發機的 ssh public key。&lt;/li&gt;
&lt;li&gt;如有需要，將 server 裡的 global package 裝好，如 bower、sails、grunt-cli 等等。&lt;/li&gt;
&lt;li&gt;設定 server 裡程式碼的存放位置，假設為 &lt;code&gt;/usr/src&lt;/code&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mkdir -p /usr/src/&lt;span class=&quot;keyword&quot;&gt;my&lt;/span&gt;-project-&lt;span class=&quot;built_in&quot;&gt;name&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;chown deploy:deploy /usr/src/&lt;span class=&quot;keyword&quot;&gt;my&lt;/span&gt;-project-&lt;span class=&quot;built_in&quot;&gt;name&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;在開發機安裝相關套件&quot;&gt;&lt;a href=&quot;#在開發機安裝相關套件&quot; class=&quot;headerlink&quot; title=&quot;在開發機安裝相關套件&quot;&gt;&lt;/a&gt;在開發機安裝相關套件&lt;/h2&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo npm &lt;span class=&quot;selector-tag&quot;&gt;i&lt;/span&gt; shipit-cli -g&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;npm &lt;span class=&quot;selector-tag&quot;&gt;i&lt;/span&gt; shipit-deploy shipit-npm --save-dev&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;ShipIt&quot;&gt;&lt;a href=&quot;#ShipIt&quot; class=&quot;headerlink&quot; title=&quot;ShipIt!&quot;&gt;&lt;/a&gt;ShipIt!&lt;/h2&gt;&lt;p&gt;在專案資料夾目錄產生 &lt;code&gt;shipitfile.js&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;內容如下&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;module&lt;/span&gt;.exports = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;shipit&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;shipit-deploy&#39;&lt;/span&gt;)(shipit);  &lt;span class=&quot;comment&quot;&gt;// remote deploy&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;shipit-npm&#39;&lt;/span&gt;)(shipit);      &lt;span class=&quot;comment&quot;&gt;// remote auto install npm packages&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;var&lt;/span&gt; config = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;default&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;workspace&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;/tmp/project-name-in-deploy-server&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;deployTo&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;/usr/src/project-name-in-deploy-server&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;repositoryUrl&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;your git remote url (github, bitbucket, etc...)&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;ignores&lt;/span&gt;: [&lt;span class=&quot;string&quot;&gt;&#39;.git&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;node_modules&#39;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;keepReleases&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;staging&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;servers&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;deploy@your-deploy-server-ip&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  shipit.initConfig(config);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;輸入 &lt;code&gt;shipit staging deploy&lt;/code&gt; 開始部署&lt;/p&gt;
&lt;h2 id=&quot;額外命令&quot;&gt;&lt;a href=&quot;#額外命令&quot; class=&quot;headerlink&quot; title=&quot;額外命令&quot;&gt;&lt;/a&gt;額外命令&lt;/h2&gt;&lt;figure class=&quot;highlight haxe&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;shipit.initConfig(config);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// code 加在這行之後&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; current = config.&lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;.deployTo + &lt;span class=&quot;string&quot;&gt;&#39;/current&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// shipit 會將 source code 放在 deploy server 專案資料夾裡的 current 中&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;shipit.task(&lt;span class=&quot;string&quot;&gt;&#39;server-on&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; shipit.remote(&lt;span class=&quot;string&quot;&gt;&#39;cd &#39;&lt;/span&gt; + current + &lt;span class=&quot;string&quot;&gt;&#39; &amp;amp;&amp;amp; bower i &amp;amp;&amp;amp; npm start&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;shipit.task(&lt;span class=&quot;string&quot;&gt;&#39;start&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  shipit.start([&lt;span class=&quot;string&quot;&gt;&#39;deploy&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;server-on&#39;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;執行 &lt;code&gt;shipit staging start&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;基本設定的樣子&quot;&gt;&lt;a href=&quot;#基本設定的樣子&quot; class=&quot;headerlink&quot; title=&quot;基本設定的樣子&quot;&gt;&lt;/a&gt;基本設定的樣子&lt;/h2&gt;&lt;script src=&quot;https://gist.github.com/Knovour/97760c466552c2ed12db.js&quot;&gt;&lt;/script&gt;



&lt;h2 id=&quot;參考來源&quot;&gt;&lt;a href=&quot;#參考來源&quot; class=&quot;headerlink&quot; title=&quot;參考來源&quot;&gt;&lt;/a&gt;參考來源&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.therightcode.net/deploy-nodejs-application-using-shipit/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Forget Capistrano and deploy your node.js application using Shipit&lt;/a&gt;（裡面是用 grunt 當範例，但我用 grunt 的方式跑不起來）&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/shipitjs/shipit&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Shipit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/shipitjs/shipit-deploy&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;shipit-deploy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      用 Shipit 做簡單的 node.js server 佈署。
    
    </summary>
    
    
      <category term="node.js" scheme="https://notes.knovour.ninja/tags/node-js/"/>
    
      <category term="deploy" scheme="https://notes.knovour.ninja/tags/deploy/"/>
    
  </entry>
  
  <entry>
    <title>記錄幾個 Google 搜尋技巧</title>
    <link href="https://notes.knovour.ninja/2015/04/15/some-google-search-skills/"/>
    <id>https://notes.knovour.ninja/2015/04/15/some-google-search-skills/</id>
    <published>2015-04-15T13:43:00.000Z</published>
    <updated>2016-03-21T13:25:06.558Z</updated>
    
    <content type="html">&lt;p&gt;記錄幾個自己在搜尋時常用到的方式&lt;/p&gt;
&lt;h2 id=&quot;一般方式&quot;&gt;&lt;a href=&quot;#一般方式&quot; class=&quot;headerlink&quot; title=&quot;一般方式&quot;&gt;&lt;/a&gt;一般方式&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-&lt;/code&gt;：排除某個關鍵字。例：&lt;code&gt;ui -jquery&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;site:&lt;/code&gt;：搜尋特定網站內容。例：&lt;code&gt;site:medium.com node.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;quot;關鍵字&amp;quot;&lt;/code&gt;：限定搜尋結果包含引號內完整字串。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;額外關鍵字&quot;&gt;&lt;a href=&quot;#額外關鍵字&quot; class=&quot;headerlink&quot; title=&quot;額外關鍵字&quot;&gt;&lt;/a&gt;額外關鍵字&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;alternative(s)&lt;/code&gt;：搜尋某個軟體或 library 有沒有類似的東西。若搜尋的是 library 相關的，搜尋結果裡的 &lt;a href=&quot;http://alternativeto.net/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AlternativeTo&lt;/a&gt; 網站則可以不用管，因為裡面舉的例子還是以軟體為主。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;how (to)&lt;/code&gt;：搜尋一些 server 或開發環境架設時會用到&lt;/li&gt;
&lt;li&gt;&lt;code&gt;附近&lt;/code&gt;：搜尋 Map 時會用到。如：&lt;code&gt;101 附近 餐廳&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;一些特殊符號的英文&quot;&gt;&lt;a href=&quot;#一些特殊符號的英文&quot; class=&quot;headerlink&quot; title=&quot;一些特殊符號的英文&quot;&gt;&lt;/a&gt;一些特殊符號的英文&lt;/h2&gt;&lt;p&gt;主要是以前剛接觸 CSS3 跟 HTML 時會找的符號 (sign 或 symbol)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;gt;&lt;/code&gt;：greater than&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~&lt;/code&gt;：tilde&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+&lt;/code&gt;：plus&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:&lt;/code&gt;：colon&lt;/li&gt;
&lt;li&gt;&lt;code&gt;;&lt;/code&gt;：semicolon&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-&lt;/code&gt;：dash、minus&lt;/li&gt;
&lt;li&gt;&lt;code&gt;_&lt;/code&gt;：underline&lt;/li&gt;
&lt;li&gt;&lt;code&gt;,&lt;/code&gt;：comma&lt;/li&gt;
&lt;li&gt;&lt;code&gt;.&lt;/code&gt;：dot&lt;/li&gt;
&lt;li&gt;&lt;code&gt;•&lt;/code&gt;：bullet point&lt;/li&gt;
&lt;li&gt;&lt;code&gt;·&lt;/code&gt;：middot&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$&lt;/code&gt;：dollar&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#&lt;/code&gt;：number、pound (美式)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;幾個-UI-相關元件的英文&quot;&gt;&lt;a href=&quot;#幾個-UI-相關元件的英文&quot; class=&quot;headerlink&quot; title=&quot;幾個 UI 相關元件的英文&quot;&gt;&lt;/a&gt;幾個 UI 相關元件的英文&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;hamburger menu&lt;/code&gt;：就是本 blog 左上角那三條線。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ghost button&lt;/code&gt;：只有 border 沒有 background-color 的按鈕。&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      紀錄幾個自己在搜尋時常用到的方式（符號、關鍵字、某些符號的英文單字等）
    
    </summary>
    
    
      <category term="google" scheme="https://notes.knovour.ninja/tags/google/"/>
    
      <category term="search" scheme="https://notes.knovour.ninja/tags/search/"/>
    
  </entry>
  
</feed>
