<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[Knovour Notes]]></title>
  
  <link href="/atom.xml" rel="self"/>
  <link href="http://yoursite.com/"/>
  <updated>2016-01-10T04:44:13.462Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name><![CDATA[Knovour Zheng]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[在 Linux 上執行 Path of Exile (PoE)]]></title>
    <link href="http://yoursite.com/2015/09/16/path-of-exile-on-linux/"/>
    <id>http://yoursite.com/2015/09/16/path-of-exile-on-linux/</id>
    <published>2015-09-16T13:26:00.000Z</published>
    <updated>2016-01-10T04:44:13.462Z</updated>
    <content type="html"><![CDATA[<p><img src="https://farm1.staticflickr.com/621/21000960109_98f4415f3d_c.jpg" alt="poe"></p>
<p>之前在 Wine 上跑過一陣子 PoE，但經過幾次更新後，loading 畫面除了狂閃外基本上就是完全進不去的狀態，然而當時也是有點膩了，所以也懶得折騰（基本上都是在講把 Wine 降級或是裝 PlayOnLinux，不過不想這樣搞）。</p>
<p>現在 2.0 出了，「據說」修好了錯位，也偶然發現有一篇比較不那麼麻煩的設定<a href="https://russell.cc/path-of-exile-linux/" target="_blank" rel="external">文章</a>，試一試還真的成功了，在這邊紀錄一下。<br><a id="more"></a><br>註：文章裡似乎是把 PoE 另外裝其他地方，再外帶參數啟動（我的理解啦），但我沒有用 Wine 模擬其他東西的需要，所以就把覺得可以跳過的部份跳過，下面的紀錄基本上就是個精簡後的設定步驟。</p>
<p><br></p>
<h2 id="u74B0_u5883"><a href="#u74B0_u5883" class="headerlink" title="環境"></a>環境</h2><ul>
<li><a href="https://manjaro.github.io/" target="_blank" rel="external">Manjaro Linux</a></li>
<li><a href="https://www.kde.org/" target="_blank" rel="external">KDE Plasma 5</a></li>
<li>NVIDIA 顯卡</li>
</ul>
<p><br></p>
<h2 id="u57F7_u884C_winecfg"><a href="#u57F7_u884C_winecfg" class="headerlink" title="執行 winecfg"></a>執行 winecfg</h2><ol>
<li>選定 windows 版本（原文是 8 不過選 10 也沒差）。</li>
<li>將 <code>openal32</code> 加進函式庫裡。</li>
<li>勾選虛擬桌面，解析度自己根據需求調整。</li>
</ol>
<p><img src="https://farm1.staticflickr.com/577/21195623851_4c22a1dc13_b.jpg" alt="winecfg"></p>
<p><br></p>
<h2 id="u5B89_u88DD_windows__u76F8_u95DC_u5957_u4EF6"><a href="#u5B89_u88DD_windows__u76F8_u95DC_u5957_u4EF6" class="headerlink" title="安裝 windows 相關套件"></a>安裝 windows 相關套件</h2><p>執行 <code>winetricks directx9 vcrun2010 riched20 usp10</code></p>
<p><br></p>
<h2 id="u5B89_u88DD_u904A_u6232"><a href="#u5B89_u88DD_u904A_u6232" class="headerlink" title="安裝遊戲"></a>安裝遊戲</h2><p>執行 PoE 安裝檔，之後再開啟下載主程式，這部份不會有問題，但主程式裝完後先關掉不要按 Launch，不然 wine 會當掉。</p>
<p><br></p>
<h2 id="u57F7_u884C_wine_regedit"><a href="#u57F7_u884C_wine_regedit" class="headerlink" title="執行 wine regedit"></a>執行 <code>wine regedit</code></h2><p>安裝期間可以先處理這部份（在 regedit 裡移到對應的路徑）</p>
<ol>
<li><code>HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\FontSubstitutes</code>：新增一個字串值叫 <code>Fontin SmallCaps</code>，數值為 <code>Fontin</code>。</li>
<li><code>HKEY_CURRENT_USER\Software\Wine\Direct3D</code>：若沒有 <code>Direct3D</code> 的資料夾則自行新增一個。在底下新增以下資料：<ol>
<li><code>OffscreenRenderingMode</code>：字串值為 <code>backbuffer</code>。</li>
<li><code>VideoMemorySize</code>：這是你的顯卡記憶體大小，以 MB 計，我的是 2048。</li>
<li><code>UseGLSL</code>：NVIDIA 顯卡限定，值為 <code>disabled</code>，若執行時覺得有問題可以把這個值移除看看。</li>
</ol>
</li>
</ol>
<p><img src="https://farm1.staticflickr.com/738/20999863178_1337f3d5a8_b.jpg" alt="regedit"></p>
<p><br></p>
<h2 id="u8A2D_u5B9A_PoE"><a href="#u8A2D_u5B9A_PoE" class="headerlink" title="設定 PoE"></a>設定 PoE</h2><p>到 <code>~/文件/My Games/Path of Exile/</code>（不同發行版位置可能不大一樣），開啟 <code>production_Config.ini</code>，在 <code>[DISPLAY]</code> 底下新增或替換以下設定：</p>
<ol>
<li><code>fullscreen=true</code></li>
<li><code>borderless_windowed_fullscreen=false</code></li>
<li><code>resolution_height=虛擬桌面高度</code></li>
<li><code>resolution_width=虛擬桌面寬度</code></li>
</ol>
<p><br></p>
<h2 id="u7D50_u675F"><a href="#u7D50_u675F" class="headerlink" title="結束"></a>結束</h2><p>等 PoE 主程式載完就可以啟動了。</p>
<p><img src="https://farm6.staticflickr.com/5805/21197789131_d983728162_o.jpg" alt="play"></p>
<p><br></p>
<h2 id="u611F_u60F3"><a href="#u611F_u60F3" class="headerlink" title="感想"></a>感想</h2><ol>
<li>基本上不會像以前那樣 FPS 掉很重了，但偶爾會破圖。</li>
<li>地圖亮度偏暗，地穴根本是黑的，使用冰系或雷系技能擊中或發動瞬間會照亮地圖（火焰反而沒法照亮…），招喚 Golem（2.0 新技能）可以永久照亮。</li>
<li>音效要在設定裡選擇 <code>Generic Software on out</code> 開頭的才有聲音。</li>
<li>只有 Act4 沒錯位就算了，Act123 + Map 的錯位感覺更嚴重了是怎樣，新增的 Map 也是一樣慘。</li>
</ol>
<p><br></p>
<h2 id="u53C3_u8003_u4F86_u6E90"><a href="#u53C3_u8003_u4F86_u6E90" class="headerlink" title="參考來源"></a>參考來源</h2><p><a href="https://russell.cc/path-of-exile-linux/" target="_blank" rel="external">Path of Exile on Linux</a></p>
]]></content>
    <summary type="html">
    <![CDATA[用 Wine 執行 PoE ，無須降級、免裝 PlayOnLinux。]]>
    
    </summary>
    
      <category term="game" scheme="http://yoursite.com/tags/game/"/>
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
      <category term="wine" scheme="http://yoursite.com/tags/wine/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[用 PM2 部署 node server]]></title>
    <link href="http://yoursite.com/2015/08/13/deploy-node-js-by-pm2/"/>
    <id>http://yoursite.com/2015/08/13/deploy-node-js-by-pm2/</id>
    <published>2015-08-12T18:38:00.000Z</published>
    <updated>2016-01-09T19:10:14.456Z</updated>
    <content type="html"><![CDATA[<h2 id="u524D_u7F6E_u4F5C_u696D"><a href="#u524D_u7F6E_u4F5C_u696D" class="headerlink" title="前置作業"></a>前置作業</h2><p>首先先設定完<a href="http://notes.knovour.ninja/deploy-node-js-by-shipit/" target="_blank" rel="external">這篇文</a>的前置作業。</p>
<p><strong>部署與開發用的機器都要安裝 PM2</strong>：<code>sudo npm i pm2 -g</code></p>
<p><br></p>
<h2 id="u90E8_u7F72_u8A2D_u5B9A"><a href="#u90E8_u7F72_u8A2D_u5B9A" class="headerlink" title="部署設定"></a>部署設定</h2><p>於專案資料夾底下執行 <code>pm2 ecosystem</code> 生成 <code>ecosystem.json5</code>，修改副檔名為 json 檔以便顯示語法 hightlight。</p>
<p>將裡面的內容做修改</p>
<script src="https://gist.github.com/Knovour/f27c0cf743e991973f57.js"></script>

<p>注意最後一句裡 <code>pm2 startOrRestart ecosystem.json</code> 的副檔名是否相同。<br><a id="more"></a><br><br></p>
<h2 id="u958B_u59CB_u90E8_u7F72"><a href="#u958B_u59CB_u90E8_u7F72" class="headerlink" title="開始部署"></a>開始部署</h2><p>第一次部署時先執行 setup</p>
<p><code>pm2 deploy ecosystem.json production setup</code></p>
<p>成功後就可以正式部署了</p>
<p><code>pm2 deploy ecosystem.json production</code></p>
<p>之後專案更新時只要執行第二句即可。</p>
<p>一切順利的話 PM2 就會在 server 端開始執行了。</p>
<p><br></p>
<h2 id="u984D_u5916_u6307_u4EE4"><a href="#u984D_u5916_u6307_u4EE4" class="headerlink" title="額外指令"></a>額外指令</h2><p>開機啟動：<code>pm2 startup -u DEPLOY_SERVER_USER_ACCOUNT</code></p>
<p>不設 <code>-u</code>（user）的話，在開機時預設就會以 root 權限執行。</p>
<p>其他指令或設定請至 <a href="https://github.com/Unitech/pm2" target="_blank" rel="external">PM2</a> 檢視說明文件</p>
<p><br></p>
<h2 id="u53C3_u8003_u4F86_u6E90"><a href="#u53C3_u8003_u4F86_u6E90" class="headerlink" title="參考來源"></a>參考來源</h2><ul>
<li><a href="https://github.com/Unitech/pm2" target="_blank" rel="external">PM2</a></li>
<li><a href="https://github.com/Unitech/PM2/blob/master/ADVANCED_README.md" target="_blank" rel="external">PM2 Advance Readme</a></li>
<li><a href="http://www.toobug.net/article/using_pm2_deploy.html" target="_blank" rel="external">使用 PM2 Deploy 部署基于 Git 版本管理的网站应用</a></li>
<li><a href="https://www.gitbook.com/book/wohugb/pm2/details" target="_blank" rel="external">PM2 GitBook</a></li>
<li><a href="http://nicmitchell.com/2015/04/deploying-node-js-applications-with-pm2/" target="_blank" rel="external">Deploying Node.js Applications with PM2</a></li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[用 PM2 進行 node.js server 佈署。]]>
    
    </summary>
    
      <category term="deploy" scheme="http://yoursite.com/tags/deploy/"/>
    
      <category term="node.js" scheme="http://yoursite.com/tags/node-js/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[用 Shipit 部署 node server]]></title>
    <link href="http://yoursite.com/2015/07/17/deploy-node-js-by-shipit/"/>
    <id>http://yoursite.com/2015/07/17/deploy-node-js-by-shipit/</id>
    <published>2015-07-17T15:42:00.000Z</published>
    <updated>2016-01-09T19:10:04.793Z</updated>
    <content type="html"><![CDATA[<h2 id="u524D_u7F6E_u4F5C_u696D"><a href="#u524D_u7F6E_u4F5C_u696D" class="headerlink" title="前置作業"></a>前置作業</h2><p><strong>假設是全新的 Linux，帳號為 deploy</strong></p>
<ol>
<li>在 github 等託管服務中登錄 deploy server 的 ssh public key。</li>
<li>設定 ssh 免密碼遠端登入：在 <code>.ssh/authorized_keys</code> 裡貼上開發機的 ssh public key。</li>
<li>如有需要，將 server 裡的 global package 裝好，如 bower、sails、grunt-cli 等等。</li>
<li>設定 server 裡程式碼的存放位置，假設為 <code>/usr/src</code>。</li>
</ol>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /usr/src/<span class="keyword">my</span>-project-<span class="property">name</span></span><br><span class="line">chown deploy:deploy /usr/src/<span class="keyword">my</span>-project-<span class="property">name</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p><br></p>
<h2 id="u5728_u958B_u767C_u6A5F_u5B89_u88DD_u76F8_u95DC_u5957_u4EF6"><a href="#u5728_u958B_u767C_u6A5F_u5B89_u88DD_u76F8_u95DC_u5957_u4EF6" class="headerlink" title="在開發機安裝相關套件"></a>在開發機安裝相關套件</h2><p><code>sudo npm i shipit-cli -g</code></p>
<p><code>npm i shipit-deploy shipit-npm --save-dev</code></p>
<p><br></p>
<h2 id="ShipIt_21"><a href="#ShipIt_21" class="headerlink" title="ShipIt!"></a>ShipIt!</h2><p>在專案資料夾目錄產生 <code>shipitfile.js</code></p>
<p>內容如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">shipit</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">require</span>(<span class="string">'shipit-deploy'</span>)(shipit);  <span class="comment">// remote deploy</span></span><br><span class="line">  <span class="built_in">require</span>(<span class="string">'shipit-npm'</span>)(shipit);      <span class="comment">// remote auto install npm packages</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> config = &#123;</span><br><span class="line">    <span class="keyword">default</span>: &#123;</span><br><span class="line">      workspace: <span class="string">'/tmp/project-name-in-deploy-server'</span>,</span><br><span class="line">      deployTo: <span class="string">'/usr/src/project-name-in-deploy-server'</span>,</span><br><span class="line">      repositoryUrl: <span class="string">'your git remote url (github, bitbucket, etc...)'</span>,</span><br><span class="line">      ignores: [<span class="string">'.git'</span>, <span class="string">'node_modules'</span>],</span><br><span class="line">      keepReleases: <span class="number">2</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    staging: &#123;</span><br><span class="line">      servers: <span class="string">'deploy@your-deploy-server-ip'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  shipit.initConfig(config);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>輸入 <code>shipit staging deploy</code> 開始部署</p>
<p><br></p>
<h2 id="u984D_u5916_u547D_u4EE4"><a href="#u984D_u5916_u547D_u4EE4" class="headerlink" title="額外命令"></a>額外命令</h2><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">shipit.initConfig(config);</span><br><span class="line"><span class="comment">// code 加在這行之後</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> current = config.<span class="keyword">default</span>.deployTo + <span class="string">'/current'</span>;</span><br><span class="line"><span class="comment">// shipit 會將 source code 放在 deploy server 專案資料夾裡的 current 中</span></span><br><span class="line">shipit.task(<span class="string">'server-on'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> shipit.remote(<span class="string">'cd '</span> + current + <span class="string">' &amp;&amp; bower i &amp;&amp; npm start'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">shipit.task(<span class="string">'start'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  shipit.start([<span class="string">'deploy'</span>, <span class="string">'server-on'</span>]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>執行 <code>shipit staging start</code></p>
<p><br></p>
<h2 id="u57FA_u672C_u8A2D_u5B9A_u7684_u6A23_u5B50"><a href="#u57FA_u672C_u8A2D_u5B9A_u7684_u6A23_u5B50" class="headerlink" title="基本設定的樣子"></a>基本設定的樣子</h2><script src="https://gist.github.com/Knovour/97760c466552c2ed12db.js"></script>

<p><br></p>
<h2 id="u53C3_u8003_u4F86_u6E90"><a href="#u53C3_u8003_u4F86_u6E90" class="headerlink" title="參考來源"></a>參考來源</h2><ul>
<li><p><a href="http://www.therightcode.net/deploy-nodejs-application-using-shipit/" target="_blank" rel="external">Forget Capistrano and deploy your node.js application using Shipit</a>（裡面是用 grunt 當範例，但我用 grunt 的方式跑不起來）</p>
</li>
<li><p><a href="https://github.com/shipitjs/shipit" target="_blank" rel="external">Shipit</a></p>
</li>
<li><a href="https://github.com/shipitjs/shipit-deploy" target="_blank" rel="external">shipit-deploy</a></li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[用 Shipit 做簡單的 node.js server 佈署。]]>
    
    </summary>
    
      <category term="deploy" scheme="http://yoursite.com/tags/deploy/"/>
    
      <category term="node.js" scheme="http://yoursite.com/tags/node-js/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[記錄幾個 Google 搜尋技巧]]></title>
    <link href="http://yoursite.com/2015/04/15/some-google-search-skills/"/>
    <id>http://yoursite.com/2015/04/15/some-google-search-skills/</id>
    <published>2015-04-15T13:43:00.000Z</published>
    <updated>2016-01-09T19:09:54.656Z</updated>
    <content type="html"><![CDATA[<p>記錄幾個自己在搜尋時常用到的方式</p>
<h2 id="u4E00_u822C_u65B9_u5F0F"><a href="#u4E00_u822C_u65B9_u5F0F" class="headerlink" title="一般方式"></a>一般方式</h2><ul>
<li><code>-</code>：排除某個關鍵字。例：<code>ui -jquery</code></li>
<li><code>site:</code>：搜尋特定網站內容。例：<code>site:medium.com node.js</code></li>
<li><code>&quot;關鍵字&quot;</code>：限定搜尋結果包含引號內完整字串。</li>
</ul>
<h2 id="u984D_u5916_u95DC_u9375_u5B57"><a href="#u984D_u5916_u95DC_u9375_u5B57" class="headerlink" title="額外關鍵字"></a>額外關鍵字</h2><ul>
<li><code>alternative(s)</code>：搜尋某個軟體或 library 有沒有類似的東西。若搜尋的是 library 相關的，搜尋結果裡的 <a href="http://alternativeto.net/" target="_blank" rel="external">AlternativeTo</a> 網站則可以不用管，因為裡面舉的例子還是以軟體為主。</li>
<li><code>how (to)</code>：搜尋一些 server 或開發環境架設時會用到</li>
<li><code>附近</code>：搜尋 Map 時會用到。如：<code>101 附近 餐廳</code></li>
</ul>
<a id="more"></a>
<h2 id="u4E00_u4E9B_u7279_u6B8A_u7B26_u865F_u7684_u82F1_u6587"><a href="#u4E00_u4E9B_u7279_u6B8A_u7B26_u865F_u7684_u82F1_u6587" class="headerlink" title="一些特殊符號的英文"></a>一些特殊符號的英文</h2><p>主要是以前剛接觸 CSS3 跟 HTML 時會找的符號 (sign 或 symbol)</p>
<ul>
<li><code>&gt;</code>：greater than</li>
<li><code>~</code>：tilde</li>
<li><code>+</code>：plus</li>
<li><code>:</code>：colon</li>
<li><code>;</code>：semicolon</li>
<li><code>-</code>：dash、minus</li>
<li><code>_</code>：underline</li>
<li><code>,</code>：comma</li>
<li><code>.</code>：dot</li>
<li><code>•</code>：bullet point</li>
<li><code>·</code>：middot</li>
<li><code>$</code>：dollar</li>
<li><code>#</code>：number、pound (美式)</li>
</ul>
<h2 id="u5E7E_u500B_UI__u76F8_u95DC_u5143_u4EF6_u7684_u82F1_u6587"><a href="#u5E7E_u500B_UI__u76F8_u95DC_u5143_u4EF6_u7684_u82F1_u6587" class="headerlink" title="幾個 UI 相關元件的英文"></a>幾個 UI 相關元件的英文</h2><ul>
<li><code>hamburger menu</code>：就是本 blog 左上角那三條線。</li>
<li><code>ghost button</code>：只有 border 沒有 background-color 的按鈕。</li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[紀錄幾個自己在搜尋時常用到的方式（符號、關鍵字、某些符號的英文單字等）]]>
    
    </summary>
    
      <category term="google" scheme="http://yoursite.com/tags/google/"/>
    
      <category term="search" scheme="http://yoursite.com/tags/search/"/>
    
  </entry>
  
</feed>
